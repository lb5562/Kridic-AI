{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucil\\\\Gen-AI-Contest\\\\FrontEnd\\\\kridic-front\\\\src\\\\component\\\\Session-Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Offcanvas, ListGroup, Button } from \"react-bootstrap\";\nimport fs from \"fs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SessionMenu(props) {\n  _s();\n  const [sessionList, setSessionList] = useState([]);\n  const [session, setSession] = useState('');\n  setSession(props.session);\n  function getSessionList() {\n    const chatHistoriesFolder = \"FrontEnd\\\\chat_histories\";\n    try {\n      const sessionFiles = fs.readdirSync(chatHistoriesFolder);\n      const sessionNames = sessionFiles.map(file => file.replace(\".txt\", \"\"));\n      return sessionNames;\n    } catch (error) {\n      console.error(\"Error reading session files:\", error);\n      return [];\n    }\n  }\n  function handleSessionClick(sessionName) {\n    setSession(sessionName);\n    props.onSessionSelect(sessionName);\n    props.onHide();\n  }\n  function handleSessionDelete(sessionName) {\n    const chatHistoriesFolder = \"FrontEnd\\\\chat_histories\";\n    const sessionFile = `${chatHistoriesFolder}/${sessionName}.txt`;\n    try {\n      fs.unlinkSync(sessionFile);\n      setSessionList(getSessionList());\n    } catch (error) {\n      console.error(\"Error deleting session file:\", error);\n    }\n  }\n  function renderSessionList() {\n    return sessionList.map(sessionName => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n      action: true,\n      onClick: () => handleSessionClick(sessionName),\n      active: session === sessionName,\n      children: [sessionName, /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        size: \"sm\",\n        onClick: event => {\n          event.stopPropagation();\n          handleSessionDelete(sessionName);\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, sessionName, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this));\n  }\n  setSessionList(getSessionList());\n  return /*#__PURE__*/_jsxDEV(Offcanvas, {\n    show: props.show,\n    onHide: props.onHide,\n    children: /*#__PURE__*/_jsxDEV(Offcanvas.Header, {\n      closeButton: true,\n      children: [/*#__PURE__*/_jsxDEV(Offcanvas.Title, {\n        children: \"Session Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Offcanvas.Body, {\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          children: renderSessionList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(SessionMenu, \"idMMbLD79zn+a1k534M0ByEydbs=\");\n_c = SessionMenu;\nvar _c;\n$RefreshReg$(_c, \"SessionMenu\");","map":{"version":3,"names":["React","useState","Offcanvas","ListGroup","Button","fs","jsxDEV","_jsxDEV","SessionMenu","props","_s","sessionList","setSessionList","session","setSession","getSessionList","chatHistoriesFolder","sessionFiles","readdirSync","sessionNames","map","file","replace","error","console","handleSessionClick","sessionName","onSessionSelect","onHide","handleSessionDelete","sessionFile","unlinkSync","renderSessionList","Item","action","onClick","active","children","variant","size","event","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","show","Header","closeButton","Title","Body","_c","$RefreshReg$"],"sources":["C:/Users/lucil/Gen-AI-Contest/FrontEnd/kridic-front/src/component/Session-Menu.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport { Offcanvas,ListGroup,Button } from \"react-bootstrap\";\r\nimport fs from \"fs\";\r\nexport default function SessionMenu(props) {\r\n   \r\n    \r\n    const [sessionList, setSessionList] = useState([]);\r\n    const [session, setSession] = useState('');\r\n\r\n    setSession(props.session);\r\n\r\n    function getSessionList() {\r\n        const chatHistoriesFolder = \"FrontEnd\\\\chat_histories\"; \r\n        try {\r\n            const sessionFiles = fs.readdirSync(chatHistoriesFolder);\r\n            const sessionNames = sessionFiles.map((file) => file.replace(\".txt\", \"\"));\r\n            return sessionNames;\r\n        } catch (error) {\r\n            console.error(\"Error reading session files:\", error);\r\n            return [];\r\n            }\r\n        }\r\n    function handleSessionClick(sessionName) {\r\n        setSession(sessionName);\r\n        props.onSessionSelect(sessionName);\r\n        props.onHide();\r\n    }\r\n    function handleSessionDelete(sessionName) {\r\n        const chatHistoriesFolder = \"FrontEnd\\\\chat_histories\";\r\n        const sessionFile = `${chatHistoriesFolder}/${sessionName}.txt`;\r\n        try {\r\n            fs.unlinkSync(sessionFile);\r\n            setSessionList(getSessionList());\r\n        } catch (error) {\r\n            console.error(\"Error deleting session file:\", error);\r\n        }\r\n    }\r\n    function renderSessionList() {\r\n        return sessionList.map((sessionName) => (\r\n            <ListGroup.Item key={sessionName} action onClick={() => handleSessionClick(sessionName)} active={session === sessionName}>\r\n                {sessionName}\r\n                <Button variant=\"danger\" size=\"sm\" onClick={(event) => {\r\n                    event.stopPropagation();\r\n                    handleSessionDelete(sessionName);\r\n                }}>Delete</Button>\r\n            </ListGroup.Item>\r\n        ));\r\n    }\r\n    setSessionList(getSessionList());\r\n    return (\r\n        <Offcanvas show={props.show} onHide={props.onHide}>\r\n            <Offcanvas.Header closeButton>\r\n                <Offcanvas.Title>Session Menu</Offcanvas.Title>\r\n                <Offcanvas.Body>\r\n                    <ListGroup>\r\n                        {renderSessionList()}\r\n                    </ListGroup>\r\n                </Offcanvas.Body>\r\n            </Offcanvas.Header>\r\n        </Offcanvas>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}