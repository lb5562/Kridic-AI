{"ast":null,"code":"import { parseDef } from \"../parseDef.js\";\nfunction decideAdditionalProperties(def, refs) {\n  if (refs.removeAdditionalStrategy === \"strict\") {\n    return def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys !== \"strict\" : parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }) ?? true;\n  } else {\n    return def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }) ?? true;\n  }\n}\n;\nexport function parseObjectDefX(def, refs) {\n  Object.keys(def.shape()).reduce((schema, key) => {\n    let prop = def.shape()[key];\n    const isOptional = prop.isOptional();\n    if (!isOptional) {\n      prop = {\n        ...prop._def.innerSchema\n      };\n    }\n    const propSchema = parseDef(prop._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"properties\", key],\n      propertyPath: [...refs.currentPath, \"properties\", key]\n    });\n    if (propSchema !== undefined) {\n      schema.properties[key] = propSchema;\n      if (!isOptional) {\n        if (!schema.required) {\n          schema.required = [];\n        }\n        schema.required.push(key);\n      }\n    }\n    return schema;\n  }, {\n    type: \"object\",\n    properties: {},\n    additionalProperties: decideAdditionalProperties(def, refs)\n  });\n  const result = {\n    type: \"object\",\n    ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n      if (propDef === undefined || propDef._def === undefined) return acc;\n      const parsedDef = parseDef(propDef._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"properties\", propName],\n        propertyPath: [...refs.currentPath, \"properties\", propName]\n      });\n      if (parsedDef === undefined) return acc;\n      return {\n        properties: {\n          ...acc.properties,\n          [propName]: parsedDef\n        },\n        required: propDef.isOptional() ? acc.required : [...acc.required, propName]\n      };\n    }, {\n      properties: {},\n      required: []\n    }),\n    additionalProperties: decideAdditionalProperties(def, refs)\n  };\n  if (!result.required.length) delete result.required;\n  return result;\n}\nexport function parseObjectDef(def, refs) {\n  const result = {\n    type: \"object\",\n    ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n      if (propDef === undefined || propDef._def === undefined) return acc;\n      const parsedDef = parseDef(propDef._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"properties\", propName],\n        propertyPath: [...refs.currentPath, \"properties\", propName]\n      });\n      if (parsedDef === undefined) return acc;\n      return {\n        properties: {\n          ...acc.properties,\n          [propName]: parsedDef\n        },\n        required: propDef.isOptional() ? acc.required : [...acc.required, propName]\n      };\n    }, {\n      properties: {},\n      required: []\n    }),\n    additionalProperties: decideAdditionalProperties(def, refs)\n  };\n  if (!result.required.length) delete result.required;\n  return result;\n}","map":{"version":3,"names":["parseDef","decideAdditionalProperties","def","refs","removeAdditionalStrategy","catchall","_def","typeName","unknownKeys","currentPath","parseObjectDefX","Object","keys","shape","reduce","schema","key","prop","isOptional","innerSchema","propSchema","propertyPath","undefined","properties","required","push","type","additionalProperties","result","entries","acc","propName","propDef","parsedDef","length","parseObjectDef"],"sources":["C:/Users/lucil/Gen-AI-Contest/FrontEnd/kridic-front/node_modules/zod-to-json-schema/dist/esm/parsers/object.js"],"sourcesContent":["import { parseDef } from \"../parseDef.js\";\nfunction decideAdditionalProperties(def, refs) {\n    if (refs.removeAdditionalStrategy === \"strict\") {\n        return def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys !== \"strict\"\n            : parseDef(def.catchall._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"additionalProperties\"],\n            }) ?? true;\n    }\n    else {\n        return def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : parseDef(def.catchall._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"additionalProperties\"],\n            }) ?? true;\n    }\n}\n;\nexport function parseObjectDefX(def, refs) {\n    Object.keys(def.shape()).reduce((schema, key) => {\n        let prop = def.shape()[key];\n        const isOptional = prop.isOptional();\n        if (!isOptional) {\n            prop = { ...prop._def.innerSchema };\n        }\n        const propSchema = parseDef(prop._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"properties\", key],\n            propertyPath: [...refs.currentPath, \"properties\", key],\n        });\n        if (propSchema !== undefined) {\n            schema.properties[key] = propSchema;\n            if (!isOptional) {\n                if (!schema.required) {\n                    schema.required = [];\n                }\n                schema.required.push(key);\n            }\n        }\n        return schema;\n    }, {\n        type: \"object\",\n        properties: {},\n        additionalProperties: decideAdditionalProperties(def, refs),\n    });\n    const result = {\n        type: \"object\",\n        ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n            if (propDef === undefined || propDef._def === undefined)\n                return acc;\n            const parsedDef = parseDef(propDef._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"properties\", propName],\n                propertyPath: [...refs.currentPath, \"properties\", propName],\n            });\n            if (parsedDef === undefined)\n                return acc;\n            return {\n                properties: { ...acc.properties, [propName]: parsedDef },\n                required: propDef.isOptional()\n                    ? acc.required\n                    : [...acc.required, propName],\n            };\n        }, { properties: {}, required: [] }),\n        additionalProperties: decideAdditionalProperties(def, refs),\n    };\n    if (!result.required.length)\n        delete result.required;\n    return result;\n}\nexport function parseObjectDef(def, refs) {\n    const result = {\n        type: \"object\",\n        ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n            if (propDef === undefined || propDef._def === undefined)\n                return acc;\n            const parsedDef = parseDef(propDef._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"properties\", propName],\n                propertyPath: [...refs.currentPath, \"properties\", propName],\n            });\n            if (parsedDef === undefined)\n                return acc;\n            return {\n                properties: { ...acc.properties, [propName]: parsedDef },\n                required: propDef.isOptional()\n                    ? acc.required\n                    : [...acc.required, propName],\n            };\n        }, { properties: {}, required: [] }),\n        additionalProperties: decideAdditionalProperties(def, refs),\n    };\n    if (!result.required.length)\n        delete result.required;\n    return result;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}